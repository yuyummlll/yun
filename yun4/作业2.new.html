<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    img {
        border-radius: 50%;
        width: 80px;
        height: 80px;
    }
</style>

<body>

    <label for="email">邮箱</label><br>
    <input type="text" id="email" required name="email"><br>
    <label for="password">密码</label><br>
    <input type="text" id="password" required name="password"><br>
    <button onclick="chaZhao()">登录</button>
    <div id="user"></div>
</body>
<script>
    let msg = [{
            name: '张三',
            age: 20,
            strengths: 'JavaScript',
            avatar: 'https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1',
            email: 'yunding@qq.com',
            password: 33333
        },
        {
            name: '李四',
            age: 19,
            strengths: 'python',
            avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1',
            email: '12345678@163.com',
            password: 11111
        },
        {
            name: '王五',
            age: 18,
            strengths: 'Java',
            avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1',
            email: 'yundingshuyuan@qq.cn',
            password: 222222
        }
    ]

    function chaZhao() {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;
        let user = null;
        //验证邮箱格式
        function emailTest(email) {
            let regex = /^\w+(@qq|@163)\.(com|cn)$/;
            return regex.test(email);
        }
        if (!(emailTest(email))) {
            alert("邮箱格式错误");
            return 0;
        }
        //验证用户
        function userFind(email) {
            for (let a = 0; a < msg.length; a++) {
                if (msg[a].email === email) {
                    return 1;
                }
            }
            return 0;
        }
        if (!userFind(email)) {
            alert("该用户不存在");
            return 0;
        }

        //验证密码
        for (let i = 0; i < msg.length; i++) {
            if (String(msg[i].password) === password) {
                user = msg[i];
                break;
            }
        }
        if (user) {
            let userContainer = document.createElement("div");
            let userHTML = ` <p>登录成功</p>
            <img src="${user.avatar}" alt=avatar />
            <p>姓名: ${user.name}</p>
            <p>年龄: ${user.age}</p>
            <p>特长: ${user.strengths}</p>`;
            userContainer.innerHTML = userHTML;
            document.body.appendChild(userContainer);
        } else {
            alert("用户存在但密码错误");
        }
    }
</script>

</html>